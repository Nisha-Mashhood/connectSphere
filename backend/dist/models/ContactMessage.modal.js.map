{"version":3,"file":"ContactMessage.modal.js","sourceRoot":"","sources":["../../src/models/ContactMessage.modal.ts"],"names":[],"mappings":"AAAA,OAAO,QAAQ,EAAE,EAAE,MAAM,EAAY,MAAM,UAAU,CAAC;AACtD,OAAO,EAAE,gBAAgB,EAAE,MAAM,+BAA+B,CAAC;AAWjE,MAAM,oBAAoB,GAAW,IAAI,MAAM,CAAC;IAC9C,gBAAgB,EAAE;QAChB,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,IAAI;KACf;IACC,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACjB;IACC,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACjB;IACC,OAAO,EAAE;QACP,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACjB;IACC,SAAS,EAAE;QACT,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,IAAI,CAAC,GAAG;KACpB;IACC,UAAU,EAAE;QACV,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,KAAK;KACf;CACF,EAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CACrB,CAAC;AAEF,8CAA8C;AAC9C,oBAAoB,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,WAAW,IAAI;IACnD,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAC3B,IAAI,CAAC,gBAAgB,GAAG,MAAM,gBAAgB,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;IAC1E,CAAC;IACD,IAAI,EAAE,CAAC;AACT,CAAC,CAAC,CAAC;AAEH,eAAe,QAAQ,CAAC,KAAK,CAC3B,gBAAgB,EAChB,oBAAoB,CACrB,CAAC","sourcesContent":["import mongoose, { Schema, Document } from \"mongoose\";\r\nimport { generateCustomId } from \"../utils/idGenerator.utils.js\";\r\n\r\nexport interface IContactMessage extends Document {\r\n  contactMessageId: string;\r\n  name: string;\r\n  email: string;\r\n  message: string;\r\n  givenReply:boolean;\r\n  createdAt: Date;\r\n}\r\n\r\nconst ContactMessageSchema: Schema = new Schema({\r\n  contactMessageId: { \r\n    type: String, \r\n    unique: true,\r\n},\r\n  name: { \r\n    type: String, \r\n    required: true \r\n},\r\n  email: { \r\n    type: String, \r\n    required: true \r\n},\r\n  message: { \r\n    type: String, \r\n    required: true \r\n},\r\n  createdAt: { \r\n    type: Date, \r\n    default: Date.now \r\n},\r\n  givenReply: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n},{ timestamps: true }\r\n);\r\n\r\n// Pre-save hook to generate contact messageId\r\nContactMessageSchema.pre(\"save\", async function (next) {\r\n  if (!this.contactMessageId) {\r\n    this.contactMessageId = await generateCustomId(\"contactMessage\", \"CNM\");\r\n  }\r\n  next();\r\n});\r\n\r\nexport default mongoose.model<IContactMessage>(\r\n  \"ContactMessage\",\r\n  ContactMessageSchema\r\n);\r\n\r\n"]}