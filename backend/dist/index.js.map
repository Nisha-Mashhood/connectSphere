{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,OAAO,MAAM,SAAS,CAAC;AAC9B,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,SAAS,MAAM,uBAAuB,CAAC;AAC9C,OAAO,MAAM,MAAM,wBAAwB,CAAC;AAC5C,OAAO,UAAU,MAAM,qCAAqC,CAAC;AAC7D,OAAO,IAAI,MAAM,MAAM,CAAC;AACxB,OAAO,YAAY,MAAM,eAAe,CAAC;AACzC,OAAO,IAAI,MAAM,MAAM,CAAC;AACxB,OAAO,EAAE,MAAM,EAAE,MAAM,WAAW,CAAC;AACnC,OAAO,EAAE,aAAa,EAAE,MAAK,2BAA2B,CAAC;AACzD,OAAO,EAAE,gBAAgB,EAAE,MAAM,uCAAuC,CAAC;AACzE,OAAO,MAAM,MAAM,wBAAwB,CAAC;AAC5C,OAAO,cAAc,MAAM,6CAA6C,CAAC;AACzE,OAAO,iBAAiB,MAAM,mDAAmD,CAAC;AAClF,OAAO,YAAY,MAAM,yCAAyC,CAAC;AACnE,gEAAgE;AAChE,OAAO,YAAY,MAAM,yCAAyC,CAAC;AACnE,OAAO,mBAAmB,MAAM,uDAAuD,CAAC;AACxF,OAAO,WAAW,MAAM,uCAAuC,CAAC;AAChE,OAAO,cAAc,MAAM,6CAA6C,CAAC;AACzE,OAAO,qBAAqB,MAAM,+DAA+D,CAAC;AAClG,OAAO,UAAU,MAAM,qCAAqC,CAAC;AAC7D,OAAQ,kBAAkB,MAAM,qDAAqD,CAAC;AACtF,OAAO,WAAW,MAAM,yDAAyD,CAAC;AAClF,OAAO,UAAU,MAAM,qCAAqC,CAAC;AAC7D,OAAO,cAAc,MAAM,2CAA2C,CAAC;AACvE,OAAO,aAAa,MAAM,yCAAyC,CAAC;AACpE,OAAO,eAAe,MAAM,+CAA+C,CAAC;AAE5E,MAAM,CAAC,MAAM,EAAE,CAAC;AAEhB,MAAM,GAAG,GAAG,OAAO,EAAE,CAAC;AACtB,MAAM,MAAM,GAAgB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AAEnD,gBAAgB;AAChB,SAAS,EAAE,CAAC;AAEZ,aAAa;AACb,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC;IACX,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,YAAY,IAAI,uBAAuB;IAC3D,WAAW,EAAC,IAAI;CACjB,CAAC,CAAC,CAAA;AAGH,SAAS;AACT,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;AACjC,GAAG,CAAC,GAAG,CAAC,eAAe,EAAE,cAAc,CAAC,CAAC;AACzC,GAAG,CAAC,GAAG,CAAC,kBAAkB,EAAE,iBAAiB,CAAC,CAAC;AAC/C,GAAG,CAAC,GAAG,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;AACrC,iDAAiD;AACjD,GAAG,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;AACtC,GAAG,CAAC,GAAG,CAAC,oBAAoB,EAAC,mBAAmB,CAAC,CAAC;AAClD,GAAG,CAAC,GAAG,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;AACnC,GAAG,CAAC,GAAG,CAAC,eAAe,EAAE,cAAc,CAAC,CAAC;AACzC,GAAG,CAAC,GAAG,CAAC,sBAAsB,EAAC,qBAAqB,CAAC,CAAC;AACtD,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;AACjC,GAAG,CAAC,GAAG,CAAC,mBAAmB,EAAE,kBAAkB,CAAC,CAAC;AACjD,GAAG,CAAC,GAAG,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;AACnC,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;AACjC,GAAG,CAAC,GAAG,CAAC,eAAe,EAAE,cAAc,CAAC,CAAC;AACzC,GAAG,CAAC,GAAG,CAAC,cAAc,EAAE,aAAa,CAAC,CAAC;AACvC,GAAG,CAAC,GAAG,CAAC,gBAAgB,EAAC,eAAe,CAAC,CAAC;AAE1C,oBAAoB;AACpB,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE;IACzB,GAAG,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;AACjD,CAAC,CAAC,CAAC;AAEH,mDAAmD;AACnD,GAAG,CAAC,GAAG,CAAC,CAAC,GAAQ,EAAE,IAAS,EAAE,GAAQ,EAAE,KAAU,EAAE,EAAE;IACpD,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACzB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,uBAAuB,EAAE,CAAC,CAAC;AAC3D,CAAC,CAAC,CAAC;AAEH,uBAAuB;AACvB,MAAM,EAAE,GAAG,IAAI,MAAM,CAAC,MAAM,EAAE;IAC5B,IAAI,EAAE;QACJ,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,YAAY,IAAI,uBAAuB;QAC3D,OAAO,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC;QACxB,WAAW,EAAE,IAAI;KAClB;CACF,CAAC,CAAC;AACH,MAAM,aAAa,GAAG,IAAI,aAAa,EAAE,CAAC,CAAC,4BAA4B;AACvE,aAAa,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,yBAAyB;AAEvD,oBAAoB;AACpB,MAAM,gBAAgB,GAAG,IAAI,gBAAgB,EAAE,CAAC;AAChD,gBAAgB,CAAC,KAAK,EAAE,CAAC;AAGzB,eAAe;AACf,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE;IAC9B,MAAM,CAAC,IAAI,CAAC,yCAAyC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;AACtE,CAAC,CAAC,CAAC","sourcesContent":["import express from \"express\";\r\nimport dotenv from \"dotenv\";\r\nimport connectDB from \"./config/db.config.js\";\r\nimport config from \"./config/env.config.js\";\r\nimport authRoutes from \"./Modules/Auth/Routes/AuthRoutes.js\";\r\nimport cors from \"cors\";\r\nimport cookieParser from \"cookie-parser\";\r\nimport http from \"http\";\r\nimport { Server } from \"socket.io\";\r\nimport { SocketService }from \"./socket/SocketService.js\";\r\nimport { CleanupScheduler } from \"./core/Utils/NotificationSchdduler.js\";\r\nimport logger from \"./core/Utils/Logger.js\";\r\nimport categoryRoutes from \"./Modules/Category/Routes/CategoryRoutes.js\";\r\nimport subCategoryRoutes from \"./Modules/Subcategory/Routes/SubCategoryRoutes.js\";\r\nimport skillsRoutes from \"./Modules/Skills/Routes/SkillsRoutes.js\";\r\n// import userRoutes from \"./routes/user.routes.js\";//Check this\r\nimport mentorRoutes from \"./Modules/Mentor/Routes/MentorRoutes.js\";\r\nimport collaborationRoutes from \"./Modules/Collaboration/Routes/CollaborationRoutes.js\";\r\nimport groupRoutes from \"./Modules/Group/Routes/GroupRoutes.js\";\r\nimport feedbackRoutes from './Modules/Feedback/Routes/FeedBackRoutes.js';\r\nimport user_userCollabRoutes from './Modules/UserCollaboration/Routes/UserCollaborationroutes.js';\r\nimport taskRoutes from './Modules/Task/Routes/TaskRoutes.js';\r\nimport  notificationRoutes from './Modules/Notification/Routes/Notificationroutes.js';\r\nimport adminRoutes from './Modules/AdminDashboard/Routes/AdminDashboardRoutes.js';\r\nimport chatRoutes from \"./Modules/Chat/Routes/ChatRoutes.js\";\r\nimport contactsRoutes from \"./Modules/Contact/Routes/ContactRoutes.js\";\r\nimport reviewsRoutes from \"./Modules/Review/Routes/ReviewRoutes.js\";\r\nimport contactUsRoutes from \"./Modules/ContactUs/Routes/ContactUsRoutes.js\";\r\n\r\ndotenv.config();\r\n\r\nconst app = express();\r\nconst server: http.Server = http.createServer(app);\r\n\r\n// Connect to DB\r\nconnectDB();\r\n\r\n// Middleware\r\napp.use(express.json());\r\napp.use(cookieParser());\r\napp.use(cors({\r\n  origin: process.env.FRONTEND_URL || \"http://localhost:5173\",\r\n  credentials:true\r\n}))\r\n\r\n\r\n// Routes\r\napp.use(\"/api/auth\", authRoutes);\r\napp.use(\"/api/category\", categoryRoutes);\r\napp.use(\"/api/subcategory\", subCategoryRoutes);\r\napp.use(\"/api/skills\", skillsRoutes);\r\n// app.use(\"/api/users\", userRoutes);//check this\r\napp.use(\"/api/mentors\", mentorRoutes);\r\napp.use(\"/api/collaboration\",collaborationRoutes);\r\napp.use(\"/api/group\", groupRoutes);\r\napp.use(\"/api/feedback\", feedbackRoutes);\r\napp.use(\"/api/user-userCollab\",user_userCollabRoutes);\r\napp.use(\"/api/task\", taskRoutes);\r\napp.use(\"/api/notification\", notificationRoutes);\r\napp.use(\"/api/admin\", adminRoutes);\r\napp.use(\"/api/chat\", chatRoutes);\r\napp.use(\"/api/contacts\", contactsRoutes);\r\napp.use(\"/api/reviews\", reviewsRoutes);\r\napp.use(\"/api/contactUs\",contactUsRoutes);\r\n\r\n// Placeholder route\r\napp.get(\"/\", (_req, res) => {\r\n  res.send(\"Connect Sphere Backend is running!\");\r\n});\r\n\r\n// Error Handling Middleware (for unhandled errors)\r\napp.use((err: any, _req: any, res: any, _next: any) => {\r\n  console.error(err.stack);\r\n  res.status(500).send({ error: \"Something went wrong!\" });\r\n});\r\n\r\n// Initialize Socket.IO\r\nconst io = new Server(server, {\r\n  cors: {\r\n    origin: process.env.FRONTEND_URL || \"http://localhost:5173\",\r\n    methods: [\"GET\", \"POST\"],\r\n    credentials: true,\r\n  },\r\n});\r\nconst socketService = new SocketService(); // Instantiate SocketService\r\nsocketService.initialize(io); // Call initialize method\r\n\r\n//Schedule Node_corn\r\nconst cleanupScheduler = new CleanupScheduler();\r\ncleanupScheduler.start();\r\n\r\n\r\n// Start server\r\nserver.listen(config.port, () => {\r\n  logger.info(`Server is running on http://localhost:${config.port}`);\r\n});\r\n"]}