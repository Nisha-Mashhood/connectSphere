{"version":3,"file":"skills.repositry.js","sourceRoot":"","sources":["../../src/repositories/skills.repositry.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,KAAK,EAAE,MAAM,2BAA2B,CAAC;AAElD,eAAe;AACf,MAAM,CAAC,MAAM,WAAW,GAAG,KAAK,EAAE,IAA6B,EAAE,EAAE;IACjE,OAAO,MAAM,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAClC,CAAC,CAAC;AAEF,iBAAiB;AACjB,MAAM,CAAC,MAAM,YAAY,GAAG,KAAK,EAAE,aAAqB,EAAE,EAAE;IAC1D,OAAO,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE,aAAa,EAAE,CAAC;SACvC,QAAQ,CAAC,YAAY,CAAC;SACtB,QAAQ,CAAC,eAAe,CAAC,CAAC;AAC/B,CAAC,CAAC;AAGF,oBAAoB;AACpB,MAAM,CAAC,MAAM,YAAY,GAAG,KAAK,EAAE,EAAU,EAAE,EAAE;IAC/C,OAAO,MAAM,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC;SAC5B,QAAQ,CAAC,YAAY,CAAC;SACtB,QAAQ,CAAC,eAAe,CAAC,CAAC;AAC/B,CAAC,CAAC;AAEF,iBAAiB;AACjB,MAAM,CAAC,MAAM,WAAW,GAAG,KAAK,EAC9B,EAAU,EACV,IAA6B,EAC7B,EAAE;IACF,OAAO,MAAM,KAAK,CAAC,iBAAiB,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC;AAChE,CAAC,CAAC;AAEF,iBAAiB;AACjB,MAAM,CAAC,MAAM,WAAW,GAAG,KAAK,EAAE,EAAU,EAAE,EAAE;IAC9C,OAAO,MAAM,KAAK,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;AAC3C,CAAC,CAAC;AAEF,mCAAmC;AACnC,MAAM,CAAC,MAAM,gBAAgB,GAAG,KAAK,EAAE,UAAkB,EAAE,EAAE;IAC3D,IAAI,CAAC;QACH,MAAM,MAAM,GAAG,MAAM,KAAK,CAAC,UAAU,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC;QACtD,OAAO,MAAM,CAAC;IAChB,CAAC;IAAC,OAAO,KAAU,EAAE,CAAC;QACpB,MAAM,IAAI,KAAK,CAAC,0BAA0B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;IAC7D,CAAC;AACH,CAAC,CAAC;AAEF,sCAAsC;AACtC,MAAM,CAAC,MAAM,+BAA+B,GAAG,KAAK,EAAG,aAAqB,EAAE,EAAE;IAC9E,IAAI,CAAC;QACH,MAAM,MAAM,GAAG,MAAM,KAAK,CAAC,UAAU,CAAC,EAAC,aAAa,EAAC,CAAC,CAAC;QACvD,OAAO,MAAM,CAAC;IAChB,CAAC;IAAC,OAAO,KAAU,EAAE,CAAC;QACpB,MAAM,IAAI,KAAK,CAAC,0BAA0B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;IAC7D,CAAC;AACH,CAAC,CAAC;AAEF,gBAAgB;AAChB,MAAM,CAAC,MAAM,SAAS,GAAG,KAAK,IAAG,EAAE;IACjC,OAAO,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;AACnD,CAAC,CAAA","sourcesContent":["import { SkillInterface } from \"../Interfaces/models/SkillInterface.js\";\r\nimport { Skill } from \"../models/skills.model.js\";\r\n\r\n// Create Skill\r\nexport const createSkill = async (data: Partial<SkillInterface>) => {\r\n  return await Skill.create(data);\r\n};\r\n\r\n// Get all skills\r\nexport const getAllSkills = async (subcategoryId: string) => {\r\n  return await Skill.find({ subcategoryId })\r\n    .populate(\"categoryId\")\r\n    .populate(\"subcategoryId\");\r\n};\r\n\r\n\r\n// Get a skill by ID\r\nexport const getSkillById = async (id: string) => {\r\n  return await Skill.findById(id)\r\n    .populate(\"categoryId\")\r\n    .populate(\"subcategoryId\");\r\n};\r\n\r\n// Update a skill\r\nexport const updateSkill = async (\r\n  id: string,\r\n  data: Partial<SkillInterface>\r\n) => {\r\n  return await Skill.findByIdAndUpdate(id, data, { new: true });\r\n};\r\n\r\n// Delete a skill\r\nexport const deleteSkill = async (id: string) => {\r\n  return await Skill.findByIdAndDelete(id);\r\n};\r\n\r\n// Delete many skills by categoryId\r\nexport const deleteManySkills = async (categoryId: string) => {\r\n  try {\r\n    const result = await Skill.deleteMany({ categoryId });\r\n    return result;\r\n  } catch (error: any) {\r\n    throw new Error(`Error deleting skills: ${error.message}`);\r\n  }\r\n};\r\n\r\n// Delete many skills by subactegoryId\r\nexport const deleteManySkillsbySubcategoryId = async ( subcategoryId: string) => {\r\n  try {\r\n    const result = await Skill.deleteMany({subcategoryId});\r\n    return result;\r\n  } catch (error: any) {\r\n    throw new Error(`Error deleting skills: ${error.message}`);\r\n  }\r\n};\r\n\r\n//get all skills\r\nexport const getSkills = async() =>{\r\n  return await Skill.find({}, { name: 1, _id: 1 });\r\n}"]}