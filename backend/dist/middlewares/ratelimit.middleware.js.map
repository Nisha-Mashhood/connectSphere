{"version":3,"file":"ratelimit.middleware.js","sourceRoot":"","sources":["../../src/middlewares/ratelimit.middleware.ts"],"names":[],"mappings":"AAAA,OAAO,SAAS,MAAM,oBAAoB,CAAC;AAE3C,MAAM,CAAC,MAAM,UAAU,GAAG,SAAS,CAAC;IAClC,yCAAyC;IACzC,QAAQ,EAAE,EAAE,GAAG,IAAI,EAAG,QAAQ;IAC9B,GAAG,EAAE,GAAG,EAAE,6CAA6C;IACvD,OAAO,EAAE;QACP,MAAM,EAAE,GAAG;QACX,OAAO,EAAE,4CAA4C;KACtD;IACD,OAAO,EAAE,IAAI;CACd,CAAC,CAAC;AAEH,mCAAmC;AACnC,MAAM,CAAC,MAAM,WAAW,GAAG,SAAS,CAAC;IACnC,qCAAqC;IACrC,QAAQ,EAAE,EAAE,GAAG,IAAI,EAAG,QAAQ;IAC9B,GAAG,EAAE,EAAE,EAAE,2CAA2C;IACpD,OAAO,EAAE;QACP,MAAM,EAAE,GAAG;QACX,OAAO,EAAE,4CAA4C;KACtD;IACD,OAAO,EAAE,IAAI;CACd,CAAC,CAAC","sourcesContent":["import rateLimit from \"express-rate-limit\";\r\n\r\nexport const apiLimiter = rateLimit({\r\n  //windowMs: 15 * 60 * 1000, // 15 minutes\r\n  windowMs: 10 * 1000,  //10 sec\r\n  max: 100, // Limit each IP to 100 requests per windowMs\r\n  message: {\r\n    status: 429,\r\n    message: \"Too many requests, please try again later.\",\r\n  },\r\n  headers: true,\r\n});\r\n\r\n// stricter limiter for auth routes\r\nexport const authLimiter = rateLimit({\r\n  //windowMs: 60 * 60 * 1000, // 1 hour\r\n  windowMs: 10 * 1000,  //10 sec\r\n  max: 20, // Limit each IP to 5 requests per windowMs\r\n  message: {\r\n    status: 429,\r\n    message: \"Too many requests, please try again later.\",\r\n  },\r\n  headers: true,\r\n});\r\n"]}